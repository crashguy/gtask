<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="{{url_for('static', filename='codemirror-v3/doc/docs.css')}}">
    <link rel="stylesheet" href="{{url_for('static', filename='codemirror-v3/lib/codemirror.css')}}">
    <link rel="stylesheet" href="{{url_for('static', filename='codemirror-v3/theme/eclipse.css')}}">
    <script src="{{url_for('static', filename='codemirror-v3/lib/codemirror.js')}}"></script>
    <script src="{{url_for('static', filename='codemirror-v3/addon/edit/matchbrackets.js')}}"></script>
    <script src="{{url_for('static', filename='codemirror-v3/mode/python/python.js')}}"></script>
    <style type="text/css">.CodeMirror {border-top: 1px solid black; border-bottom: 1px solid black;}</style>
    <style type="text/css">label {min-width: 300px;}</style>

    <title>config</title>
</head>
<body>

<p><label>id:</label><input id="id" type="text" value=""></p>
<p><label>repo:</label><input id="repo" type="text" value=""></p>
<p><label>branch:</label><input id="branch" type="text"></p>
<p><label>file:</label><input id="file" type="text" value="speech/config.py"> <input id="load" type="button" value="load"></p>
<textarea id="code">
import numpy as np
cimport cython
from libc.math cimport sqrt

@cython.boundscheck(False)
@cython.wraparound(False)
def pairwise_cython(double[:, ::1] X):
    cdef int M = X.shape[0]
    cdef int N = X.shape[1]
    cdef double tmp, d
    cdef double[:, ::1] D = np.empty((M, M), dtype=np.float64)
    for i in range(M):
        for j in range(M):
            d = 0.0
            for k in range(N):
                tmp = X[i, k] - X[j, k]
                d += tmp * tmp
            D[i, j] = sqrt(d)
    return np.asarray(D)

</textarea>

<script type="text/javascript">
      var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
        mode: {name: "python",
               version: 2,
               singleLineStringErrors: false},
        lineNumbers: true,
        indentUnit: 4,
        matchBrackets: true,
        theme:"eclipse"
    });
</script>
</body>
</html>
